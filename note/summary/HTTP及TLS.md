#### http请求中的内容

* http由三部分构成

  分别是请求行、首部、实体

##### 1. 请求行

* 请求行大概长这样 GET /image/logo.png HTTP/1.1。基本由请求方法、url、协议版本组成。

  1. 请求方法： 

     * GET: 请求一个指定资源的表示形式，使用get请求应该只被用于获取数据
     * HEAD： 请求一个与get请求相同的响应，但是没有响应体
     * POST: 用于将实体提交到指定的资源，通常导致在服务器上的状态变化或副作用
     * PUT：请求有效载荷替换目标资源的所有当前表示
     * DELETE： 删除指定的资源
     * CONNECT: 建立一个由目标资源标识的服务器隧道
     * OPTIONS：用于描述目标资源的通讯选项
     * TRACE： 沿着目标资源的路径执行一个消息环回测试
     * PATCH： 用于对资源应用部分修改

  2. 副作用与幂等

     * 副作用指对服务器上的资源做改变，搜索是无副作用，注册是副作用的（注册添加了一条数据。修改了数据）
     * 幂等指发送M和N次请求，服务器上的资源保持一致。如：注册10个账号和11个账号是不幂等（多了一个资源）。对文章修改10此和11次是幂等的（只是更行同一个资源）

     在规范场景上说： get多用于无副作用，幂等的场景。如：搜索关键字。post多用于副作用。不幂等的场景。如：注册

  3. 技术上get与post的区别

     * get能缓存。post不能
     * post相对get安全一点点
     * get 的 url有长度限制，会影响get请求。单这个长度是浏览器限制的。
     * post支持更多的编码类型



##### 2. 首部

首部分为请求首部和响应首部。并部分首部两种通用。

1. 通用首部

   | 字段              | 作用                                       |
   | ----------------- | ------------------------------------------ |
   | Cache-Control     | 控制缓存行为                               |
   | Connection        | 浏览器想要优先使用的链接类型，如keep-alive |
   | Date              | 创建报文时间                               |
   | Pragma            | 报文指令                                   |
   | Via               | 代理服务器相关信息                         |
   | Transfer-Encoding | 传输编码方式                               |
   | Upgrade           | 要求客户端升级协议                         |
   | Warning           | 在内容中可能存在错误                       |

2. 请求首部

   | 字段                | 作用                                          |
   | ------------------- | --------------------------------------------- |
   | Accept              | 能正确接收媒体类型                            |
   | Accept-Charset      | 能正确接收的字符串                            |
   | Accept-Encoding     | 能正确接收的编码格式列表                      |
   | Accept-Language     | 可能正确接收的语言列表                        |
   | Expect              | 期权服务端的指定行为                          |
   | From                | 请求方邮件地址                                |
   | Host                | 服务器的域名                                  |
   | If-Modified-Since   | 本地资源未修改返回304(比较时间)（协商缓存）   |
   | If-None-Match       | 本地资源未修改返回304（修改标记）（协商缓存） |
   | User-Agent          | 客户端信息                                    |
   | Max-Forwards        | 限制可代理及网关转发次数                      |
   | Proxy-Authorization | 向代理服务器发送验证信息                      |
   | Range               | 请求某个内容的一部份                          |
   | Referer             | 表示浏览器所访问的一个页面                    |
   | TE                  | 传输编码方式                                  |

3. 响应首部

   | 字段               | 作用                       |
   | ------------------ | -------------------------- |
   | Accept-Ranges      | 是否支持某些种类的范围     |
   | Age                | 资源在代理缓存中存在的时间 |
   | ETag               | 资源标识                   |
   | Location           | 客户端重定向到某个URL      |
   | Proxy-Authenticate | 代理服务器发送验证信息     |
   | Server             | 服务器名字                 |
   | WWW-Authenticate   | 获取资源另需验证信息       |

4. 实体首部

   | 字段             | 作用                           |
   | ---------------- | ------------------------------ |
   | Allow            | 资源的正确请求方式             |
   | Content-Encoding | 内容的编码格式                 |
   | Content-Language | 内容使用的语言                 |
   | Content-Length   | request body 长度              |
   | Content-Location | 返回数据的备用地址             |
   | Content-MD5      | Base64加密格式的内容 MD5检验值 |
   | Content-Range    | 内容的位置范围                 |
   | Content-Type     | 内容的媒体类型                 |
   | Expires          | 内容的过期时间                 |
   | Last_modified    | 内容的最后修改时间             |



#### 常见状态码

* 状态码表示了响应的一个状态。可以清晰的知道请求是成功还是失败

##### 2XX成功

1. 200 ok ： 表示客户端发来的请求在服务端被正确处理
2. 204 no content: 表示请求成功，但响应报文不包含实体的主体内容
3. 205 Reset Content : 表示请求成功。但响应报文不包含实体的主体内容，与204不同的是要求请求方重置内容
4. 206 ： 进行范围请求

##### 3XX 重定向

1. 301 ： 永久重定向，表示资源被分配到了新的URL上
2. 302 : 临时重定向，表示资源临时被分配了新的URL
3. 303 : 表示资源存在另一个URL,应使用get方法获取资源
4. 304 ： 表示服务器允许访问资源，但是发生请求未满足条件的情况
5. 307： 表示临时重定向，与302类似，但是期望客户端保持请求方法不变向新的地址发出请求

##### 4XX 客户端错误

1. 400 ： 请求报文存在语法错误
2. 401 ： 表示发送的请求需要通过http认证的信息
3. 403 ： 表示对请求的资源访问被服务器拒绝
4. 404 ： 表示服务器上没有找到请求的资源

##### 5XXX

1. 500 : 服务器端在执行请求时发生错误
2. 501 ：表示服务器不支持当前请求所需要的某个功能
3. 503： 表示服务器暂时处于超负载或正在停机维护，无法处理请求



#### TLS

* https还是通过http来传输信息，但是信息是通过TLS协议进行了加密。
* TLS中使用了两种加密方式
  1. 对称加密： 两边都知道相同的秘钥，都知道如何将密文加密解密。
  2. 非对称加密 ： 分公钥和私钥之分，公钥是所有人都知道，可以用数据用公钥加密。但数据解密必须使用私钥，私钥只有分发公钥的一方知道。



